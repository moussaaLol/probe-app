{
  "outputDirectory": ".",
  "rewrites": [
    {
      "source": "/api/search",
      "destination": "/api/search.js"
    },
    // NEW, MORE SPECIFIC REWRITE
    {
      // Matches /browse/app and all its query parameters
      "source": "/browse/app(.*)", 
      "destination": "/api/app/[id].js$1" 
      // $1 captures the query string (e.g., ?id=...) and appends it to the destination
    }
  ],
  "cleanUrls": true,
  "functions": {
    "api/app/[id].js": {
      "includeFiles": "template/browse/app.html"
    }
  }
}
